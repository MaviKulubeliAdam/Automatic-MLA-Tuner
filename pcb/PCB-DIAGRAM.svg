<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 550" width="800" height="550">
  <!-- Background -->
  <rect width="800" height="550" fill="#f5f5f5"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial" font-size="20" font-weight="bold" fill="#333">
    MANYETİK LOOP AUTO-TUNER - PCB BAĞLANTI DİAGRAMI v4.0
  </text>
  
  <!-- PCB Outline -->
  <rect x="50" y="50" width="700" height="450" rx="5" fill="#2d5016" stroke="#1a3009" stroke-width="3"/>
  
  <!-- Arduino Mega Zone -->
  <rect x="60" y="60" width="200" height="280" rx="3" fill="#1e3a0f" stroke="#4a7c2a" stroke-width="1" stroke-dasharray="5,3"/>
  <text x="160" y="80" text-anchor="middle" font-family="Arial" font-size="12" fill="#8bc34a">ARDUINO MEGA 2560</text>
  
  <!-- Arduino Module Representation -->
  <rect x="80" y="100" width="160" height="220" rx="2" fill="#0066cc" stroke="#004499" stroke-width="2"/>
  <text x="160" y="210" text-anchor="middle" font-family="Arial" font-size="10" fill="white">Arduino</text>
  <text x="160" y="225" text-anchor="middle" font-family="Arial" font-size="10" fill="white">Mega 2560</text>
  
  <!-- Arduino Pin Labels (Left side) -->
  <text x="75" y="120" text-anchor="end" font-family="monospace" font-size="8" fill="#8bc34a">5V</text>
  <text x="75" y="135" text-anchor="end" font-family="monospace" font-size="8" fill="#8bc34a">GND</text>
  <text x="75" y="155" text-anchor="end" font-family="monospace" font-size="8" fill="#8bc34a">Pin2 (CLK)</text>
  <text x="75" y="170" text-anchor="end" font-family="monospace" font-size="8" fill="#8bc34a">Pin3 (DIR)</text>
  <text x="75" y="185" text-anchor="end" font-family="monospace" font-size="8" fill="#8bc34a">Pin4 (PUL)</text>
  <text x="75" y="200" text-anchor="end" font-family="monospace" font-size="8" fill="#8bc34a">Pin5 (DT)</text>
  <text x="75" y="215" text-anchor="end" font-family="monospace" font-size="8" fill="#8bc34a">Pin6 (SW)</text>
  <text x="75" y="230" text-anchor="end" font-family="monospace" font-size="8" fill="#8bc34a">Pin7 (FWD)</text>
  <text x="75" y="245" text-anchor="end" font-family="monospace" font-size="8" fill="#8bc34a">Pin8 (REV)</text>
  <text x="75" y="260" text-anchor="end" font-family="monospace" font-size="8" fill="#8bc34a">Pin9 (ENA)</text>
  <text x="75" y="275" text-anchor="end" font-family="monospace" font-size="8" fill="#8bc34a">Pin10 (RF)</text>
  
  <!-- Arduino Pin Labels (Right side) -->
  <text x="245" y="120" text-anchor="start" font-family="monospace" font-size="8" fill="#8bc34a">Pin51 (MOSI)</text>
  <text x="245" y="135" text-anchor="start" font-family="monospace" font-size="8" fill="#8bc34a">Pin52 (SCK)</text>
  <text x="245" y="150" text-anchor="start" font-family="monospace" font-size="8" fill="#8bc34a">Pin53 (SS)</text>
  <text x="245" y="175" text-anchor="start" font-family="monospace" font-size="8" fill="#8bc34a">A0 (FWD)</text>
  <text x="245" y="190" text-anchor="start" font-family="monospace" font-size="8" fill="#8bc34a">A1 (REF)</text>

  <!-- RF Signal Chain Zone -->
  <rect x="270" y="60" width="290" height="200" rx="3" fill="#1e3a0f" stroke="#4a7c2a" stroke-width="1" stroke-dasharray="5,3"/>
  <text x="415" y="80" text-anchor="middle" font-family="Arial" font-size="12" fill="#8bc34a">RF SİNYAL ZİNCİRİ</text>

  <!-- AD9833 Module -->
  <rect x="285" y="100" width="70" height="50" rx="2" fill="#9c27b0" stroke="#7b1fa2" stroke-width="2"/>
  <text x="320" y="122" text-anchor="middle" font-family="Arial" font-size="9" fill="white">AD9833</text>
  <text x="320" y="135" text-anchor="middle" font-family="Arial" font-size="8" fill="white">DDS</text>
  <circle cx="355" cy="125" r="5" fill="#ffeb3b" stroke="#ffc107" stroke-width="1"/>
  <text x="365" y="128" font-family="Arial" font-size="7" fill="#8bc34a">SMA</text>

  <!-- RF Amplifier -->
  <rect x="375" y="100" width="70" height="50" rx="2" fill="#f44336" stroke="#d32f2f" stroke-width="2"/>
  <text x="410" y="122" text-anchor="middle" font-family="Arial" font-size="9" fill="white">RF AMP</text>
  <text x="410" y="135" text-anchor="middle" font-family="Arial" font-size="8" fill="white">+20dB</text>

  <!-- 20dB Attenuator -->
  <rect x="465" y="100" width="50" height="50" rx="2" fill="#ff9800" stroke="#f57c00" stroke-width="2"/>
  <text x="490" y="122" text-anchor="middle" font-family="Arial" font-size="9" fill="white">-20dB</text>
  <text x="490" y="135" text-anchor="middle" font-family="Arial" font-size="8" fill="white">ATTEN</text>

  <!-- SWR Bridge -->
  <rect x="375" y="170" width="100" height="50" rx="2" fill="#00bcd4" stroke="#0097a7" stroke-width="2"/>
  <text x="425" y="192" text-anchor="middle" font-family="Arial" font-size="9" fill="white">SWR BRIDGE</text>
  <text x="425" y="205" text-anchor="middle" font-family="Arial" font-size="8" fill="white">T50-2</text>

  <!-- AD8307 #1 -->
  <rect x="285" y="170" width="70" height="40" rx="2" fill="#4caf50" stroke="#388e3c" stroke-width="2"/>
  <text x="320" y="188" text-anchor="middle" font-family="Arial" font-size="8" fill="white">AD8307 #1</text>
  <text x="320" y="200" text-anchor="middle" font-family="Arial" font-size="7" fill="white">FWD</text>

  <!-- AD8307 #2 -->
  <rect x="495" y="170" width="60" height="40" rx="2" fill="#4caf50" stroke="#388e3c" stroke-width="2"/>
  <text x="525" y="188" text-anchor="middle" font-family="Arial" font-size="8" fill="white">AD8307 #2</text>
  <text x="525" y="200" text-anchor="middle" font-family="Arial" font-size="7" fill="white">REF</text>

  <!-- 5V Relay -->
  <rect x="480" y="235" width="70" height="40" rx="2" fill="#795548" stroke="#5d4037" stroke-width="2"/>
  <text x="515" y="255" text-anchor="middle" font-family="Arial" font-size="9" fill="white">5V RÖLE</text>
  <text x="515" y="268" text-anchor="middle" font-family="Arial" font-size="7" fill="white">RF Kontrol</text>

  <!-- Motor Driver Zone -->
  <rect x="270" y="270" width="290" height="120" rx="3" fill="#1e3a0f" stroke="#4a7c2a" stroke-width="1" stroke-dasharray="5,3"/>
  <text x="415" y="290" text-anchor="middle" font-family="Arial" font-size="12" fill="#8bc34a">MOTOR SÜRÜCÜ</text>

  <!-- TB6600 -->
  <rect x="350" y="305" width="130" height="70" rx="2" fill="#3f51b5" stroke="#303f9f" stroke-width="2"/>
  <text x="415" y="335" text-anchor="middle" font-family="Arial" font-size="11" fill="white">TB6600</text>
  <text x="415" y="350" text-anchor="middle" font-family="Arial" font-size="9" fill="white">Step Driver</text>
  <text x="415" y="365" text-anchor="middle" font-family="Arial" font-size="7" fill="white">PUL- DIR- ENA-</text>

  <!-- Power Zone -->
  <rect x="570" y="60" width="170" height="330" rx="3" fill="#1e3a0f" stroke="#4a7c2a" stroke-width="1" stroke-dasharray="5,3"/>
  <text x="655" y="80" text-anchor="middle" font-family="Arial" font-size="12" fill="#8bc34a">GÜÇ & KONNEKTÖRLER</text>

  <!-- 5V Power Input -->
  <rect x="590" y="100" width="70" height="40" rx="2" fill="#f44336" stroke="#d32f2f" stroke-width="2"/>
  <text x="625" y="120" text-anchor="middle" font-family="Arial" font-size="10" fill="white">5V/2A</text>
  <text x="625" y="132" text-anchor="middle" font-family="Arial" font-size="8" fill="white">DC Jack</text>

  <!-- 12V Power Input -->
  <rect x="680" y="100" width="50" height="40" rx="2" fill="#ff5722" stroke="#e64a19" stroke-width="2"/>
  <text x="705" y="120" text-anchor="middle" font-family="Arial" font-size="10" fill="white">12V</text>
  <text x="705" y="132" text-anchor="middle" font-family="Arial" font-size="8" fill="white">2A</text>

  <!-- SMA Antenna Output -->
  <rect x="630" y="170" width="70" height="50" rx="2" fill="#ffeb3b" stroke="#fbc02d" stroke-width="2"/>
  <text x="665" y="195" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">SMA</text>
  <text x="665" y="208" text-anchor="middle" font-family="Arial" font-size="8" fill="#333">ANT OUT</text>

  <!-- Motor Connector -->
  <rect x="600" y="310" width="100" height="50" rx="2" fill="#607d8b" stroke="#455a64" stroke-width="2"/>
  <text x="650" y="332" text-anchor="middle" font-family="Arial" font-size="9" fill="white">MOTOR</text>
  <text x="650" y="347" text-anchor="middle" font-family="Arial" font-size="8" fill="white">A+ A- B+ B-</text>

  <!-- User Interface Zone -->
  <rect x="60" y="350" width="200" height="140" rx="3" fill="#1e3a0f" stroke="#4a7c2a" stroke-width="1" stroke-dasharray="5,3"/>
  <text x="160" y="370" text-anchor="middle" font-family="Arial" font-size="12" fill="#8bc34a">KULLANICI ARAYÜZÜ</text>

  <!-- Encoder -->
  <circle cx="100" cy="420" r="25" fill="#e91e63" stroke="#c2185b" stroke-width="2"/>
  <text x="100" y="420" text-anchor="middle" font-family="Arial" font-size="8" fill="white">ENCODER</text>
  <text x="100" y="432" text-anchor="middle" font-family="Arial" font-size="7" fill="white">EC11</text>

  <!-- Buttons -->
  <rect x="150" y="400" width="40" height="25" rx="2" fill="#2196f3" stroke="#1976d2" stroke-width="2"/>
  <text x="170" y="417" text-anchor="middle" font-family="Arial" font-size="8" fill="white">FWD</text>
  
  <rect x="200" y="400" width="40" height="25" rx="2" fill="#2196f3" stroke="#1976d2" stroke-width="2"/>
  <text x="220" y="417" text-anchor="middle" font-family="Arial" font-size="8" fill="white">REV</text>

  <!-- Connection Lines -->
  <!-- Arduino to AD9833 (SPI) -->
  <line x1="240" y1="120" x2="285" y2="115" stroke="#9c27b0" stroke-width="2"/>
  <line x1="240" y1="135" x2="285" y2="125" stroke="#9c27b0" stroke-width="2"/>
  <line x1="240" y1="150" x2="285" y2="135" stroke="#9c27b0" stroke-width="2"/>
  
  <!-- AD9833 to RF Amp -->
  <line x1="355" y1="125" x2="375" y2="125" stroke="#ffeb3b" stroke-width="3"/>
  
  <!-- RF Amp to Attenuator -->
  <line x1="445" y1="125" x2="465" y2="125" stroke="#ffeb3b" stroke-width="3"/>
  
  <!-- Attenuator to SWR Bridge -->
  <line x1="490" y1="150" x2="490" y2="170" stroke="#ffeb3b" stroke-width="3"/>
  <line x1="475" y1="170" x2="490" y2="170" stroke="#ffeb3b" stroke-width="3"/>
  
  <!-- SWR Bridge to AD8307s -->
  <line x1="375" y1="195" x2="355" y2="195" stroke="#00bcd4" stroke-width="2"/>
  <line x1="475" y1="195" x2="495" y2="195" stroke="#00bcd4" stroke-width="2"/>
  
  <!-- AD8307 to Arduino (A0, A1) -->
  <line x1="285" y1="190" x2="245" y2="175" stroke="#4caf50" stroke-width="2"/>
  <line x1="555" y1="190" x2="560" y2="190" stroke="#4caf50" stroke-width="2"/>
  <path d="M 560 190 Q 580 190 580 175 L 240 190" stroke="#4caf50" stroke-width="2" fill="none"/>
  
  <!-- SWR Bridge to Antenna -->
  <line x1="475" y1="195" x2="530" y2="195" stroke="#ffeb3b" stroke-width="3"/>
  <line x1="530" y1="195" x2="630" y2="195" stroke="#ffeb3b" stroke-width="3"/>
  
  <!-- Arduino to TB6600 -->
  <line x1="75" y1="170" x2="60" y2="170" stroke="#3f51b5" stroke-width="2"/>
  <path d="M 60 170 L 60 340 L 350 340" stroke="#3f51b5" stroke-width="2" fill="none"/>
  <line x1="75" y1="185" x2="55" y2="185" stroke="#3f51b5" stroke-width="2"/>
  <path d="M 55 185 L 55 350 L 350 350" stroke="#3f51b5" stroke-width="2" fill="none"/>
  <line x1="75" y1="260" x2="50" y2="260" stroke="#3f51b5" stroke-width="2"/>
  <path d="M 50 260 L 50 360 L 350 360" stroke="#3f51b5" stroke-width="2" fill="none"/>
  
  <!-- Arduino to Relay -->
  <line x1="75" y1="275" x2="65" y2="275" stroke="#795548" stroke-width="2"/>
  <path d="M 65 275 L 65 255 L 480 255" stroke="#795548" stroke-width="2" fill="none"/>
  
  <!-- Relay to RF Amp (12V) -->
  <line x1="515" y1="235" x2="515" y2="150" stroke="#ff5722" stroke-width="2"/>
  <line x1="515" y1="150" x2="445" y2="150" stroke="#ff5722" stroke-width="2"/>
  <line x1="445" y1="150" x2="445" y2="135" stroke="#ff5722" stroke-width="2"/>
  
  <!-- TB6600 to Motor -->
  <line x1="480" y1="340" x2="600" y2="335" stroke="#607d8b" stroke-width="2"/>
  
  <!-- Power Lines (5V) -->
  <line x1="625" y1="100" x2="625" y2="60" stroke="#f44336" stroke-width="2"/>
  <line x1="625" y1="60" x2="160" y2="60" stroke="#f44336" stroke-width="2"/>
  <line x1="160" y1="60" x2="160" y2="100" stroke="#f44336" stroke-width="2"/>
  
  <!-- Power Lines (12V) -->
  <line x1="705" y1="100" x2="705" y2="55" stroke="#ff5722" stroke-width="2"/>
  <line x1="705" y1="55" x2="550" y2="55" stroke="#ff5722" stroke-width="2"/>
  <line x1="550" y1="55" x2="550" y2="255" stroke="#ff5722" stroke-width="2"/>

  <!-- Legend -->
  <rect x="570" y="400" width="170" height="90" rx="3" fill="#263238" stroke="#37474f" stroke-width="1"/>
  <text x="655" y="418" text-anchor="middle" font-family="Arial" font-size="10" fill="white" font-weight="bold">AÇIKLAMA</text>
  
  <line x1="580" y1="430" x2="600" y2="430" stroke="#9c27b0" stroke-width="2"/>
  <text x="605" y="433" font-family="Arial" font-size="8" fill="white">SPI Sinyal</text>
  
  <line x1="580" y1="445" x2="600" y2="445" stroke="#ffeb3b" stroke-width="3"/>
  <text x="605" y="448" font-family="Arial" font-size="8" fill="white">RF Sinyal</text>
  
  <line x1="580" y1="460" x2="600" y2="460" stroke="#f44336" stroke-width="2"/>
  <text x="605" y="463" font-family="Arial" font-size="8" fill="white">5V Güç</text>
  
  <line x1="580" y1="475" x2="600" y2="475" stroke="#ff5722" stroke-width="2"/>
  <text x="605" y="478" font-family="Arial" font-size="8" fill="white">12V Güç</text>

  <!-- Version Info -->
  <text x="400" y="530" text-anchor="middle" font-family="Arial" font-size="10" fill="#666">
    v4.0 FINAL - AD9833 DDS Based Magnetic Loop Auto-Tuner
  </text>
</svg>
